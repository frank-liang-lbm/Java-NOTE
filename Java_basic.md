# Java basic

## 数据类型

1.浮点数不适用于无法接受舍入误差的金融计算，如果早数值计算中不允许有舍入误差，应该使用 BigDecimal类；

最好完全避免使用浮点数进行比较；

2.所有字符的本质是数字；

3.不同类型的数据先转化为同一类型，然后进行运算；

4.对于byte/short/char三种类型来说，如果右侧赋值的数值没有超过范围，那么javac编译器将会自动隐含地为我们补上一个（byte)(short)(char);

![](C:\Users\Liang Boming\Downloads\Untitled Diagram.png)

5.在给变量进行赋值的时候，如果右侧的表达式当中全是常量，没有任何变量，那么编译器javac将会直接将若干的常量表达式计算的结果。例：short  result= 5  + 8;编译得到的文件相当于short result =13,这被称为“编译器的常量有优化”。

6.所有的引用类型变量，都可以赋值为一个null值，但是代表什么都没有。

## 数组

- ![](C:\Users\Liang Boming\Downloads\Untitled Diagram (2).png)
- 直接打印数组名称，得到的是数组对应的内存地址哈希值；
- 静态初始化其实也有默认值，只不过系统自动马上将默认值替换成了大括号当中的具体数值；

## 变量的命名规范

类变量：首字母小写和驼峰原则: monthSalary

局部变量：首字母小写和驼峰原则

常量：大写字母和下划线：MAX_VALUE

类名：首字母大写和驼峰原则：Man

方法名：首字母小写和驼峰原则

## 位运算符

<< 相当于 *2 (在二进制中)			>>相当于/2（二进制)			（效率极高！）

例:0010左移变为0100

## 文件的输入和输出

若不是使用try-with-sources结构,输入文件后需要使用close()关闭，否则数据无法正常保存.

## 方法

### 概述

方法就是将一个功能抽取出来，把代码单独定义在一个大括号内，形成一个单独的功能。（相当于函数）

### 定义

格式：

```c
修饰符 返回值类型 方法名 （参数列表）{
	方法体
	return 返回值;
}
```


### 调用

`方法名称（参数）；`

### 注意事项

- 方法应该定义在类当中，不能在方法中再定义方法，不能嵌套；
- 方法定义的前后顺序无所谓；  



### 重载（Overload)

- 概念：多个方法的名称一样，参数列表不同。编译器用各个方法首部中的参数类型与特定方法调用中所使用的值进行匹配，来选出正确的方法；只需要记住唯一一个方法名称，就可以实现多个功能；
- ![](C:\Users\Liang Boming\Downloads\Untitled Diagram (1).png)



## Java内存

**java内存分为5个部分；**

1. ==栈（stack)==：存放的是方法中的局部变量。==方法的运行一定要在栈当中==；

2. ==堆（heap)：凡是new出来的东西都在堆中。==

   堆内存里面的东西都有一个16进制的地址值

   堆内存里面的数据都有默认值：

   | 数据类型 | 默认值               |
   | -------- | -------------------- |
   | 整数     | 0                    |
   | 浮点数   | 0.0                  |
   | 字符     | '\u0000'(不可见字符) |
   | 布尔值   | false                |
   | 引用类型 | null                 |

3.==方法区(Method Area)==：存储.class相关信息，包含方法信息。
4.本地方法栈(Native Method Stack)：与操作系统相关。
5.寄存器（pc Register）:与CPU相关。

一个数组的内存图实例：

![](C:\Users\Liang Boming\Pictures\Screenshots\屏幕截图(66).png)

## 面向对象

面向过程：当需要实现一个功能时，每一个步骤都要亲力亲为；

面向对象：当需要实现一个功能时，不关心具体的步骤，而是找一个已经具有该功能的人，来帮我做事。

### 类与对象

类是一组相关==属性==和==行为==的集合；（抽象）

对象是一类事物的具体体现，是类的一个具体实现；（具体）

类是对象的模板，对象是类的实体；

### 类的定义格式

````java
public class Student{
	//成员变量(姓名、班别)
	//成员方法（吃饭、睡觉、学习）
}
````

- 成员变量：对应事物的属性；
- 成员方法：对应事物的行为；
- 注意事项：成员变量定义在类当中，方法外；成员方法不要写static关键字。

### 对象的创建

1. 导包：指出需要使用的类在什么位置，与当前类属于同一个包的可以省略；(import 包名.类名) java.lang下的包不需要导包

2. 创建：类名称 对象名 = new 类名称();

3. 使用：

   | 成员变量 | 对象名.成员变量                         |
   | -------- | --------------------------------------- |
   | 成员方法 | 对象名.成员方法（参数）一个对象的内存图 |

#### 一个对象的内存图

![](C:\Users\Liang Boming\Pictures\Screenshots\屏幕截图(67).png)

黑×代表出栈；

当一个对象作为参数传递到方法中时，实际上传递的是==地址值==；

当使用一个对象类型作为方法的返回值时，返回值其实就是对象的==地址值==；

### 局部变量和成员变量

  

|          | 局部变量 | 成员变量       |
| -------- | -------- | -------------- |
| 位置     | 方法内部 | 方法外部，类中 |
| 作用范围 | 方法中   | 整个类         |
| 默认值   | 无       | 有             |

### 封装

封装就是将一些细节信息隐藏起来，对于外界不可见；（在java中的例子有方法，private等）；

#### private关键字

使用了private关键字进行修饰，在本类中可以随意访问，但是超出了本类范围之外就不能直接访问了。

间接访问privarte成员变量:定义一对==Getter/Setter==方法；（必须叫setXxx或者是getXxx,boolean类型的Getter方法要写成isXxx形式)

### this关键字

当方法的局部变量和类的成员变量重名的时候，根据“就近原则”,优先使用局部变量。

如果需要访问本类当中的成员变量，需要使用格式：this.成员变量名

通过谁调用的方法，谁就是this.

### 构造方法

构造方法是专门用来创建对象的方法，当我们通过关键字new来创建对象时，其实就是在调用构造方法。

#### 格式：

````java
public 类名称（参数类型 参数名称）{
	方法体
}
````

#### 注意事项

1. 构造方法的名称必须和所在类的名称完全一样；
2. 构造方法不要写返回值类型，void也不写；
3. 构造方法不能return一个具体的返回值;
4. 如果没有编写任何构造方法，编译器会默认赠送一个构造方法，没有参数，方法体什么事情都不做；
5. 一旦编写了至少一个构造方法，编译器不在赠送；
6. 构造方法也可以进行重载。

### 标准的类（Java Bean)

1. 所有的成员变量都要使用private关键字修饰
2. 为每一个成员变量编写一对Getter/Setter方法
3. 编写一个无参数的构造方法
4. 编写一个全参数的构造方法

在IDEA中可以使用Generate来生成代码。

### 匿名对象

- 格式:new 类名称(),没有左边的名字和赋值符。

- 注意事项：匿名对象只能使用唯一的一次，下次再用不得不再创建一个新对象。
- 使用建议：如果确定有一个对象只需要使用唯一的一次，就可以使用匿名对象。

## API

### Scanner类

功能：可以实现键盘输入数据到程序中。

System.in代表键盘输入

### Random类

功能：生成伪随机数。

nextInt(3)是左闭右开区间，取值为0~2，取不到3；

### ArrayList<E>类

#### 简介

数组的长度不可以发生改变，但是ArrayList集合的长度是可以随意变化的。

尖括号<E>代表==泛型==；（泛型：就是装在集合当中的所有元素，全都是统一的什么类型，泛型只能是引用类型)

注意事项：对于ArrayList集合来说，直接打印得到的不是地址值，而是内容，如果内容是空，得到的是空的中括号[]

#### 常用方法

- public boolean add(E e)：向集合当中添加元素，参数的类型和泛型一致。
- public E get(int index)：从集合当中获取元素，参数是索引编号，返回值就是对应位置的元素。
- public E remove(int index)：从集合当中删除元素，参数是索引编号，返回值就是被删除掉的元素。
- public int size()：获取集合的尺寸长度，返回值是集合中包含的元素个数。

####存储基本类型

如果希望向集合ArrayList当中存储基本数据类型，必须使用基本类型对应的“包装类”。



| 基本类型 | 包装类（引用类型，位于java.lang包中) |
| -------- | ------------------------------------ |
| byte     | Byte                                 |
| short    | Short                                |
| int      | ==Integer==                          |
| long     | Long                                 |
| float    | Float                                |
| double   | Double                               |
| char     | ==Character==                        |
| boolean  | Boolean                              |

从JDK1.5+开始，支持自动装箱和自动拆箱。

- 自动装箱：基本类型 --> 包装类型
- 自动拆箱：包装类型 --> 基本类型

## 字符串

### 特点

1. ==字符串内容不可改变==；
2. 因为字符串不可改变，所以字符串可以共享使用；
3. 字符串效果上相当是char[]字符数组，但是底层原理是byte[]字节数组

### 常见构造

三种构造方法

````java
public String();//创建一个空白的字符串
public String(char[] array);//根据字符数组内容，来创建对应字符串
public String(byte[] array);//根据字符数组内容，来创建对应字符串
````

一种直接创建

````+java
String str = "Hello";//直接写上双引号就是字符对象
````

### 字符串常量池

![](C:\Users\Liang Boming\Pictures\Screenshots\屏幕截图(68).png)

程序当中直接写上的双引号字符串，就在字符串常量池中。

### 常用比较方法

````+java
public boolean equals(Object obj);//参数可以是任何对象，只有参数是一个字符串且相同才返回true
````

任何对象都可以用Object进行接收；

````java
public boolean equalsIgnoreCase(String str);//忽略大小写进行比较
````

### 常用获取方法

````java
public int Length();//获取字符串长度
publlic String concat(String str);//将当前字符串和参数字符串拼接成返回字符串
public char charAt(int index);//获取指定索引位置的单个字符
public indexof(String str);//查找参数字符串在本字符串中首次出现的索引位置，没有则返回-1
````

### 截取方法

````java
public String substring(int index);//截取从参数位置一直到字符串末尾
public String substring(int begin,int end);//截取从begin开始到end结束中间的字符串
````

[begin,end)左闭右开

### 转换方法

````java
public char[] toCharArray();//将当前字符串拆分成字符数组作为返回值
public byte[] getBytes();//获得当前字符串底层的字节数组
public String replace(CharSequence oldString,CharSequence newString);//将所有出现的老字符串替换成新的字符串
````

CharSequence可以接收字符串类型

### 分割方法

````java
public String[] split(String regex);//按照参数的规则，将字符串切成若干份
````

split方法的参数实际是一个==正则表达式==，如果想按照英文句点'.'划分，必须写“\\\\.”